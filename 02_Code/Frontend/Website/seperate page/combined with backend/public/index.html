<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHITTICKET</title>
    <link rel="stylesheet" href="design.css">
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth-compat.js"></script>
    <script src="auth.js"></script>
    <style>
        #user-info {
            position: absolute;
            top: 10px;
            right: 10px;
            text-align: right;
            display: none;
        }
        #user-info p {
            margin: 0;
        }
    </style>
</head>
<body>
    <div id="user-info"></div>
    <h1>WELCOME TO SHITTICKET</h1>
    <h2>A place where you can sell your tickets at the best prices. Quick and easy with us.</h2>
    <button id="createButton">Create</button>
    <button id="loginButton" style="display:none;">Login</button>
    <button id="logoutButton" style="display:none;">Logout</button>

    <script>
        const createButton = document.getElementById('createButton');
        const loginButton = document.getElementById('loginButton');
        const logoutButton = document.getElementById('logoutButton');

        checkAuth().then(() => {
            // User is authenticated
            createButton.onclick = () => window.location.href = 'ticket.html';
            logoutButton.style.display = 'inline-block';
            loginButton.style.display = 'none';
            displayUserInfo();
        }).catch(() => {
            // User is not authenticated
            createButton.onclick = () => window.location.href = 'login.html';
            loginButton.style.display = 'inline-block';
            logoutButton.style.display = 'none';
        });

        loginButton.onclick = () => window.location.href = 'login.html';
        logoutButton.onclick = logout;
    </script>
</body>
</html>